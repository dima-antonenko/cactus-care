# üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üìù –í–∞–∂–Ω–æ –ø–æ–Ω—è—Ç—å

### –ü–æ—á–µ–º—É "–Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç" –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –ø–æ–ª–∏–≤–µ?

**–≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ!** –°–∏—Å—Ç–µ–º–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –ø–æ–ª–∏–≤ –Ω–∞ 6 —á–∞—Å–æ–≤ (–∏–ª–∏ 10 —Å–µ–∫—É–Ω–¥ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ).

## üîç –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –ø–æ–ª–∏–≤–µ

### –ü–µ—Ä–≤—ã–π –ø–æ–ª–∏–≤ ‚úÖ
```json
{
  "water_level": 70,    // –±—ã–ª–æ 50, —Å—Ç–∞–ª–æ 70
  "total_waterings": 1, // —É–≤–µ–ª–∏—á–∏–ª–æ—Å—å
  "message": "–ö–∞–∫—Ç—É—Å –ø–æ–ª–∏—Ç! –£—Ä–æ–≤–µ–Ω—å –≤–æ–¥—ã: 70%",
  "can_water": false    // —Ç–µ–ø–µ—Ä—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ
}
```

### –í—Ç–æ—Ä–æ–π –ø–æ–ª–∏–≤ —Å—Ä–∞–∑—É ‚ùå
```json
{
  "water_level": 70,    // –ù–ï –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
  "total_waterings": 1, // –ù–ï –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
  "message": "–ö–∞–∫—Ç—É—Å –µ—â–µ –Ω–µ –≥–æ—Ç–æ–≤ –∫ –ø–æ–ª–∏–≤—É! –ü–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ–º–Ω–æ–≥–æ.",
  "can_water": false    // –≤—Å–µ –µ—â–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ
}
```

### –¢—Ä–µ—Ç–∏–π –ø–æ–ª–∏–≤ —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥ (–≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ) ‚úÖ
```json
{
  "water_level": 90,    // —Å–Ω–æ–≤–∞ —É–≤–µ–ª–∏—á–∏–ª–æ—Å—å!
  "total_waterings": 2, // —É–≤–µ–ª–∏—á–∏–ª–æ—Å—å!
  "message": "–ö–∞–∫—Ç—É—Å –ø–æ–ª–∏—Ç! –£—Ä–æ–≤–µ–Ω—å –≤–æ–¥—ã: 90%",
  "can_water": false    // —Å–Ω–æ–≤–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ
}
```

## üéÆ –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º (10 —Å–µ–∫—É–Ω–¥)

–£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ `src/models.rs`:
```rust
seconds_since_last >= 10 // –¢–ï–°–¢: –º–æ–∂–Ω–æ –ø–æ–ª–∏–≤–∞—Ç—å —Ä–∞–∑ –≤ 10 —Å–µ–∫—É–Ω–¥
```

**–¢–µ—Å—Ç:**
1. –ü–æ–ª–µ–π—Ç–µ –∫–∞–∫—Ç—É—Å: `curl http://localhost:3030/api/cactus/test/water`
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 10 —Å–µ–∫—É–Ω–¥
3. –ü–æ–ª–µ–π—Ç–µ —Å–Ω–æ–≤–∞: `curl http://localhost:3030/api/cactus/test/water`

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º (6 —á–∞—Å–æ–≤)

–ò–∑–º–µ–Ω–∏—Ç–µ –≤ `src/models.rs`:
```rust
hours_since_last >= 6 // –º–æ–∂–Ω–æ –ø–æ–ª–∏–≤–∞—Ç—å —Ä–∞–∑ –≤ 6 —á–∞—Å–æ–≤
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –í –ª–æ–≥–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞
```bash
üîç –ü–æ–∏—Å–∫ –∫–∞–∫—Ç—É—Å–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è test: true
üíß –ù–∞–π–¥–µ–Ω –∫–∞–∫—Ç—É—Å, —É—Ä–æ–≤–µ–Ω—å –≤–æ–¥—ã: 50
üíß can_water: true
‚úÖ –ü–æ–ª–∏–≤ —É—Å–ø–µ—à–µ–Ω: –ö–∞–∫—Ç—É—Å –ø–æ–ª–∏—Ç! –£—Ä–æ–≤–µ–Ω—å –≤–æ–¥—ã: 70%
üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∫—Ç—É—Å–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: test
```

### –í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- –£—Ä–æ–≤–µ–Ω—å –≤–æ–¥—ã —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è (—Å–∏–Ω—è—è –ø–æ–ª–æ—Å–∞)
- –°—Ç–∞–¥–∏—è —Ä–æ—Å—Ç–∞ –º–µ–Ω—è–µ—Ç—Å—è
- –°—á–µ—Ç—á–∏–∫ –ø–æ–ª–∏–≤–æ–≤ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è
- –¢–∞–π–º–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–æ–ª–∏–≤–∞

## üêõ –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### "–ù–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç"
**–ü—Ä–∏—á–∏–Ω–∞**: –í—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –ø–æ–ª–∏—Ç—å —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–æ.
**–†–µ—à–µ–Ω–∏–µ**: –ü–æ–¥–æ–∂–¥–∏—Ç–µ –Ω—É–∂–Ω–æ–µ –≤—Ä–µ–º—è –∏–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –≤ —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º.

### "–í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –∫–∞–∫—Ç—É—Å"
**–ü—Ä–∏—á–∏–Ω–∞**: –°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω (–¥–∞–Ω–Ω—ã–µ –≤ –ø–∞–º—è—Ç–∏ –ø–æ—Ç–µ—Ä—è–Ω—ã).
**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Å–µ—Å—Å–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞.

### "–£—Ä–æ–≤–µ–Ω—å –≤–æ–¥—ã –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è"
**–ü—Ä–∏—á–∏–Ω–∞**: –ü–æ–ª–∏–≤ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª–µ `can_water` –≤ –æ—Ç–≤–µ—Ç–µ. –ï—Å–ª–∏ `false` - –ø–æ–¥–æ–∂–¥–∏—Ç–µ.

## ‚úÖ –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
cargo run &

# 2. –°–æ–∑–¥–∞—Ç—å –∫–∞–∫—Ç—É—Å –∏ –ø–æ–ª–∏—Ç—å –ø–µ—Ä–≤—ã–π —Ä–∞–∑
curl http://localhost:3030/api/cactus/user1/water
# –†–µ–∑—É–ª—å—Ç–∞—Ç: water_level: 70, total_waterings: 1

# 3. –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è –ø–æ–ª–∏—Ç—å —Å—Ä–∞–∑—É
curl http://localhost:3030/api/cactus/user1/water
# –†–µ–∑—É–ª—å—Ç–∞—Ç: "–ö–∞–∫—Ç—É—Å –µ—â–µ –Ω–µ –≥–æ—Ç–æ–≤ –∫ –ø–æ–ª–∏–≤—É!"

# 4. –ü–æ–¥–æ–∂–¥–∞—Ç—å 10 —Å–µ–∫—É–Ω–¥ (–≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ)
sleep 10

# 5. –ü–æ–ª–∏—Ç—å —Å–Ω–æ–≤–∞
curl http://localhost:3030/api/cactus/user1/water
# –†–µ–∑—É–ª—å—Ç–∞—Ç: water_level: 90, total_waterings: 2
```

## üå∏ –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ü–≤–µ—Ç—ã

–¶–≤–µ—Ç—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø—Ä–∏:
- 3+ –¥–Ω—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª–∏–≤–∞
- –£—Ä–æ–≤–µ–Ω—å –≤–æ–¥—ã >= 70%

–í —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ –ø–æ–ª–µ–π—Ç–µ –∫–∞–∫—Ç—É—Å 3 —Ä–∞–∑–∞ (—Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 10 —Å–µ–∫—É–Ω–¥):
```bash
curl http://localhost:3030/api/cactus/user1/water
sleep 10
curl http://localhost:3030/api/cactus/user1/water
sleep 10
curl http://localhost:3030/api/cactus/user1/water
# –ù–∞ —Ç—Ä–µ—Ç—å–µ–º –ø–æ–ª–∏–≤–µ –ø–æ—è–≤–∏—Ç—Å—è —Ü–≤–µ—Ç–æ–∫! üå∏
```
